# Автоматизированная система управления теплицей

## Общие сведения

### 1. Цель проекта
Создание автоматизированной системы управления теплицей на базе Raspberry Pi и модулей с ESP8266.  
Система должна обеспечивать централизованный контроль и регулирование параметров микроклимата (температура, влажность, освещение, полив) с возможностью гибкой перенастройки функций модулей через веб-интерфейс без необходимости перепрошивки.

### 2. Команда исполнителей
- Васильев Никита, Брель Мария — веб-интерфейс
- Таджединов Рамиль, Шмунк Андрей — бэкэнд, железо
- Ступин Тимур — 3D, железо

## Технические требования

### 1. Требования к функциональным характеристикам
- Сбор данных: Автоматический сбор данных с датчиков (температура, влажность воздуха и почвы, освещенность, уровень воды).
- Управление: Управление исполнительными устройствами (помпы, вентиляторы, светодиодные лампы).
- Конфигурирование: Обеспечение возможности переназначения функций датчиков и исполнительных устройств модулям через веб-интерфейс.
- Доступ: Поддержка удалённого доступа к системе через локальную сеть (LAN) или Интернет.
- Логирование: Ведение журнала событий и записи всех измеряемых параметров.

### 2. Требования к надежности
- Автономность: Обеспечение автономной работы в локальной сети при потере соединения с внешним Интернетом.
- Устойчивость: Возможность частичного функционирования системы (например, поддержание минимального полива/вентиляции) при потере основного источника питания.
- Защита: Обеспечение защиты модулей и компонентов от влажности, пыли и грязи.

### 3. Условия эксплуатации
- Работа в условиях теплицы:
  - Температура: от +5 до +50 °C
  - Влажность: до 95%
- Питание системы: от сети 12V

### 4. Требования к составу и параметрам технических средств
- Центральный сервер: Raspberry Pi 5
- Периферийные устройства: Универсальные модули на базе ESP8266 с Wi-Fi
- Сенсоры:
  - Датчик температуры давления и влажности (BME680)
  - Датчик освещённости (фоторезистор)
  - Датчик влажности почвы
- Исполнительные механизмы: 
  - Насос полива (помпа 12V)
  - Вентилятор проверивания (кулер 12V)
  - Освещение (светодиодная лента 12V)

### 5. Требования к информационной и программной совместимости
- Связь: Взаимодействие между Центральным сервером и модулями должно осуществляться по Wi-Fi
- Программное обеспечение:
  - Уровень frontend: Веб-интерфейс на HTML5/JavaScript, доступ через браузер, взаимодействие с сервером по HTTP
  - Уровень backend: Raspberry Pi 5, управление модулями, обработка логики, API для frontend
  - Уровень модулей: ESP8266 подчиняется запросам с сервера (REST спецификация)
  - Устройства:
    - Отдающие (датчики)
    - Принимающие (свет, полив, проветривание)
- Принимающие подключаются через модуль mosfet транзистора. Для каждого:
  - Земля
  - Питание
- Датчики разделяются на аналоговые и цифровые. И те и другие подключаются 3-мя выводами
  - Питание 5V
  - Сигнал (на аналоговый либо цифровой порт)
  - Земля

### 6. Требования к транспортированию и хранению
Система должна иметь разборную конструкцию для удобства транспортирования и хранения.

## Требования к документации
- Руководство пользователя
- Программная документация:
  - [Описание архитектуры системы](/doc/arc.md)
  - Описание API (REST спецификация)
  - Описание протоколов взаимодействия модулей
- Схемы подключения датчиков и исполнительных устройств

## Технико-экономические показатели
- ESP8266, BME680 и Raspberry Pi 5 из личных запасов
- Примерно 2000 рублей на остальные компоненты
- Универсальность модулей снижает общие затраты на разработку, производство и последующее обслуживание
- Возможность масштабирования системы для теплиц разных размеров

## Стадии и этапы разработки
1. Анализ требований и проектирование архитектуры системы
2. Разработка прототипа (1 модуль ESP8266 + Raspberry Pi)
3. Разработка веб-интерфейса
4. Тестирование взаимодействия модулей
5. Сборка опытного образца теплицы
6. Испытания в реальных условиях
7. Подготовка документации
8. Защита проекта

## Порядок контроля и приемки

### Виды испытаний
- Функциональные испытания: Проверка сбора данных с датчиков и управления исполнительными устройствами
- Надёжность: Тестирование устойчивости системы при сбоях связи (Wi-Fi), отключении питания и автономной работе
- Эксплуатационные испытания: Проверка работы в условиях, приближённых к реальным (повышенная влажность и температура)

### Общие требования к приемке
- Приёмка после успешного завершения всех видов испытаний
- Проверка соответствия системы требованиям, изложенным в ТЗ
- Завершающий этап – подписание акта приёмки-передачи работ и документации

## Ссылки на источники
1. ГОСТ 19.201-78 Техническое задание. Требования к содержанию и оформлению
